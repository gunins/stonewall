<!DOCTYPE html>

<html>
<head>
  <title>dom.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="loader.html">
                loader.js
              </a>
            
              
              <a class="source" href="App.html">
                App.js
              </a>
            
              
              <a class="source" href="Constructor.html">
                Constructor.js
              </a>
            
              
              <a class="source" href="dom.html">
                dom.js
              </a>
            
              
              <a class="source" href="mediator.html">
                mediator.js
              </a>
            
              
              <a class="source" href="parser.html">
                parser.js
              </a>
            
              
              <a class="source" href="applyAttribute.html">
                applyAttribute.js
              </a>
            
              
              <a class="source" href="applyBinders.html">
                applyBinders.js
              </a>
            
              
              <a class="source" href="applyEvents.html">
                applyEvents.js
              </a>
            
              
              <a class="source" href="deepBindings.html">
                deepBindings.js
              </a>
            
              
              <a class="source" href="setBinders.html">
                setBinders.js
              </a>
            
              
              <a class="source" href="setChildren.html">
                setChildren.js
              </a>
            
              
              <a class="source" href="setRoutes.html">
                setRoutes.js
              </a>
            
              
              <a class="source" href="utils.html">
                utils.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>dom.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-comment">/**
 * Created by guntars on 10/10/2014.
 */</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <h2 id="widget-dom-class-for-dom-manipulation">widget/dom Class for dom manipulation</h2>

            </div>
            
            <div class="content"><div class='highlight'><pre>define([
    <span class="hljs-string">'./utils'</span>
], <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">utils</span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createPlaceholder</span>(<span class="hljs-params">tag</span>) </span>{
        <span class="hljs-keyword">var</span> placeholder = <span class="hljs-built_in">document</span>.createElement(tag || <span class="hljs-string">'div'</span>);
        placeholder.setAttribute(<span class="hljs-string">'style'</span>, <span class="hljs-string">'display:none;'</span>);
        <span class="hljs-keyword">return</span> placeholder;
    }

    <span class="hljs-keyword">var</span> dom = {</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Method to attach to DOM</p>
<pre><code> @method append
 @param {dom.Element} parent
 @param {dom.Element} child
 @param {<span class="hljs-built_in">Object</span>} data
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        _after:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">parent, child, data</span>) </span>{
            <span class="hljs-keyword">if</span> (child._node !== <span class="hljs-literal">undefined</span>) {
                child.placeholder = parent.el.querySelector(<span class="hljs-string">'#'</span> + child._node.id) ||
                                    createPlaceholder(child._node.data.tag || child.el.tagName);
            } <span class="hljs-keyword">else</span> {
                child.placeholder = createPlaceholder(child.el.tagName);
            }

            <span class="hljs-keyword">if</span> (child.run !== <span class="hljs-literal">undefined</span>) {
                child.el = child.run.call(child, parent.el, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>, data);
            }

            <span class="hljs-keyword">if</span> (child._node &amp;&amp; child._node.data &amp;&amp; child._node.data.instance) {
                utils.extend(child, child._node.data.instance);
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>Replacing element in to DOM</p>
<pre><code> @method replace
 @param {dom.Element} parent
 @param {dom.Element} child
 @param {<span class="hljs-built_in">Object</span>} data
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        replace:         <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">parent, child, data</span>) </span>{
            parent.el.innerHTML = <span class="hljs-string">''</span>;
            dom._after.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Insert element to the end of parent childs</p>
<pre><code> @method append
 @param {dom.Element} parent
 @param {dom.Element} child
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        append:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">parent, child</span>) </span>{
            <span class="hljs-keyword">if</span> (parent.el !== <span class="hljs-literal">undefined</span> &amp;&amp; child.el !== <span class="hljs-literal">undefined</span>) {
                parent.el.appendChild(child.el);
            }

        },</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Insert element to the beginning of parent childs</p>
<pre><code> @method prepend
 @param {dom.Element} parent
 @param {dom.Element} child
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        prepend:         <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">parent, child</span>) </span>{
            dom.insertBefore(parent, child, <span class="hljs-number">0</span>);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Insert element to the before of specific, child by index</p>
<pre><code> @method insertBefore
 @param {dom.Element} parent
 @param {dom.Element} child
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        insertBefore:    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">parent, child, index</span>) </span>{
            <span class="hljs-keyword">var</span> parentEl = parent.el;
            <span class="hljs-keyword">var</span> childEl  = child.el;
            <span class="hljs-keyword">if</span> (parentEl !== <span class="hljs-literal">undefined</span> &amp;&amp; childEl !== <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">if</span> (parentEl.childNodes[index] !== <span class="hljs-literal">undefined</span>) {
                    parentEl.insertBefore(childEl, parentEl.childNodes[index]);
                } <span class="hljs-keyword">else</span> {
                    parentEl.appendChild(childEl);
                }
            }
        },
        detach:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>{
            <span class="hljs-keyword">if</span> (el.placeholder <span class="hljs-keyword">instanceof</span> HTMLElement === <span class="hljs-literal">false</span>) {
                el.placeholder = createPlaceholder(el._node.data.tag || el.el.tagName);
            }

            <span class="hljs-keyword">if</span> (el &amp;&amp; el.el &amp;&amp; el.el.parentNode) {
                el.el.parentNode.replaceChild(el.placeholder, el.el)
            }
        },
        attach:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>{
            <span class="hljs-keyword">if</span> (el &amp;&amp; el.el &amp;&amp; el.placeholder &amp;&amp; el.placeholder.parentNode) {
                el.placeholder.parentNode.replaceChild(el.el, el.placeholder)
            }
        },
        add:             <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el, fragment, parent, data, index</span>) </span>{
            el.placeholder = fragment.querySelector(<span class="hljs-string">'#'</span> + el._node.id) ||
                             createPlaceholder(el._node.data.tag || el.el.tagName);

            el.el = el.run.call(el, fragment, <span class="hljs-literal">false</span>, parent, data, index);

            <span class="hljs-keyword">if</span> (el._node &amp;&amp; el._node.data &amp;&amp; el._node.data.instance) {
                utils.extend(el, el._node.data.instance);
            }

        },</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Adding text in to node</p>
<pre><code> @method text
 @param {dom.Element}
 @param {<span class="hljs-built_in">String</span>} text
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        text:            <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, text</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                node.el.innerHTML = text;
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>Setting Attribute in to node</p>
<pre><code> @method setAttribute
 @prop {dom.Element} node
 @prop {<span class="hljs-built_in">String</span>||<span class="hljs-built_in">Object</span>} prop
 @prop {<span class="hljs-built_in">String</span>} value
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        setAttribute:    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, prop, value</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                <span class="hljs-keyword">if</span> (utils.isObject(prop)) {
                    <span class="hljs-built_in">Object</span>.keys(prop).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
                        node.el.setAttribute(key, prop[key]);
                    }.bind(<span class="hljs-keyword">this</span>));
                } <span class="hljs-keyword">else</span> {
                    node.el.setAttribute(prop, value);
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>Getting Attribute in to node</p>
<pre><code> @method getAttribute
 @prop {dom.Element} node
 @prop {<span class="hljs-built_in">String</span>||<span class="hljs-built_in">Object</span>} prop
 @<span class="hljs-keyword">return</span> {<span class="hljs-built_in">String</span>} value
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        getAttribute:    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, prop</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                <span class="hljs-keyword">return</span> node.el.getAttribute(prop);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>Removing Attribute from node</p>
<pre><code> @method removeAttribute
 @prop {dom.Element} node
 @prop {<span class="hljs-built_in">String</span>} prop
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        removeAttribute: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, prop</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                node.el.removeAttribute(prop);
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>Setting css style in to node</p>
<pre><code> @method setStyle
 @prop {dom.Element} node
 @prop {<span class="hljs-built_in">String</span>||<span class="hljs-built_in">Object</span>} prop
 @prop {<span class="hljs-built_in">String</span>} value
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        setStyle:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, prop, value</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                <span class="hljs-keyword">if</span> (utils.isObject(prop)) {
                    <span class="hljs-built_in">Object</span>.keys(prop).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
                        node.el.style[key] = prop[key];
                    }.bind(<span class="hljs-keyword">this</span>));
                } <span class="hljs-keyword">else</span> {
                    node.el.style[prop] = value;
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>Getting css style from node</p>
<pre><code> @method getStyle
 @prop {dom.Element} node
 @prop {<span class="hljs-built_in">String</span>} prop
 @<span class="hljs-keyword">return</span> {<span class="hljs-built_in">String</span>} value
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        getStyle:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, prop</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                <span class="hljs-keyword">if</span> (node.el !== <span class="hljs-literal">undefined</span> &amp;&amp; node.el.style !== <span class="hljs-literal">undefined</span>) {
                    <span class="hljs-keyword">return</span> node.el.style[prop];
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>Removing css style from node</p>
<pre><code> @method removeAttribute
 @prop {dom.Element} node
 @prop {<span class="hljs-built_in">String</span>} prop
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        removeStyle:     <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, prop</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                node.el.style[prop] = <span class="hljs-string">''</span>;
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>Adding class in to node</p>
<pre><code> @method addClass
 @param {dom.Element} node
 @param {<span class="hljs-built_in">String</span>} className
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        addClass:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, className</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                node.el.classList.add(className);
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>checking if className exists in node</p>
<pre><code> @method hasClass
 @param {dom.Element} node
 @param {<span class="hljs-built_in">String</span>} className
 @<span class="hljs-keyword">return</span> boolean
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        hasClass:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, className</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                <span class="hljs-keyword">return</span> node.el.classList.contains(className);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Remove class from node</p>
<pre><code> @method removeClass
 @param {dom.Element} node
 @param {string} className
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        removeClass:     <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, className</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                node.el.classList.remove(className);
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Setting, Getting value to input element</p>
<pre><code> @method val
 @param {dom.Element} node
 @param? {<span class="hljs-built_in">String</span>} val
 @<span class="hljs-keyword">return</span> {<span class="hljs-built_in">String</span>}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        val:             <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">node, val</span>) </span>{
            <span class="hljs-keyword">if</span> (node &amp;&amp; node.el) {
                <span class="hljs-keyword">var</span> el = node.el;
                <span class="hljs-keyword">if</span> (val !== <span class="hljs-literal">undefined</span>) {
                    el.value = val;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> el.value;
                }
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Adding DOM Event in to Element</p>
<pre><code> @method on
 @param {dom.Element} element
 @param {<span class="hljs-built_in">String</span>} ev
 @param {<span class="hljs-built_in">Function</span>} cb
 @param {<span class="hljs-built_in">Object</span>} context
 @<span class="hljs-keyword">return</span> {<span class="hljs-built_in">Object</span>} { remove() }
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        on:              <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">element, ev, cb, context</span>) </span>{
            <span class="hljs-keyword">var</span> args   = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">4</span>, <span class="hljs-built_in">arguments</span>.length),
                el     = element.el,
                events = ev.split(<span class="hljs-string">' '</span>),
                fn     = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
                    cb.apply(context || <span class="hljs-keyword">this</span>, [e, element].concat(args));
                };

            events.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
                el.addEventListener(event, fn);
            });
            <span class="hljs-keyword">var</span> evt    = {
                remove: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    events.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) </span>{
                        el.removeEventListener(event, fn);
                    });
                }
            };
            element._events.push(evt);
            <span class="hljs-keyword">return</span> evt
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <p>Remove Dom Element from Dom</p>
<pre><code> @method remove
 @param {dom.Element}
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        remove:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>{
            <span class="hljs-keyword">while</span> (el._events.length &gt; <span class="hljs-number">0</span>) {
                el._events[<span class="hljs-number">0</span>].remove();
                el._events.shift();
            }
            <span class="hljs-keyword">if</span> (el.el !== <span class="hljs-literal">undefined</span>) {
                el.el.remove();
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>executes when element attached to Dom</p>
<pre><code> @method onDOMAttached
 @param {dom.Element}
 @param {<span class="hljs-function"><span class="hljs-keyword">function</span>} <span class="hljs-title">cb</span>
 @<span class="hljs-title">param</span> </span>{<span class="hljs-function"><span class="hljs-keyword">function</span>} <span class="hljs-title">context</span></span>
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>        onDOMAttached:   <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">el</span>) </span>{
            <span class="hljs-keyword">var</span> handlers = [];
            <span class="hljs-keyword">if</span> (el.el !== <span class="hljs-literal">undefined</span>) {
                <span class="hljs-keyword">var</span> attached = <span class="hljs-literal">false</span>,
                    handler;
                <span class="hljs-keyword">var</span> step     = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
                    <span class="hljs-keyword">if</span> (attached) {
                        <span class="hljs-keyword">while</span> (handlers.length &gt; <span class="hljs-number">0</span>) {
                            handler = handlers[<span class="hljs-number">0</span>];
                            handler();
                            handlers.shift()
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-built_in">window</span>.requestAnimationFrame(step);
                        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">document</span>.body.contains(el.el)) {
                            attached = <span class="hljs-literal">true</span>;
                        }
                    }
                }.bind(<span class="hljs-keyword">this</span>);
            }
            <span class="hljs-keyword">return</span> {
                then: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">cb, context</span>) </span>{
                    handlers.push(cb.bind(context || <span class="hljs-keyword">this</span>));
                    <span class="hljs-built_in">window</span>.requestAnimationFrame(step);
                }.bind(<span class="hljs-keyword">this</span>)
            }
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        Element:         Element
    }</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <h2 id="widget-dom-element">widget/dom.Element</h2>
<pre><code>@method Element
@param {<span class="hljs-built_in">Object</span>} node
</code></pre>
            </div>
            
            <div class="content"><div class='highlight'><pre>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Element</span>(<span class="hljs-params">node</span>) </span>{
        <span class="hljs-keyword">var</span> root     = node._node;
        <span class="hljs-keyword">this</span>._events = [];
        <span class="hljs-keyword">this</span>._node   = root;
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.el) {
            <span class="hljs-keyword">if</span> (root &amp;&amp; root.el) {
                <span class="hljs-keyword">this</span>.el = root.el;
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (node.el) {
                <span class="hljs-keyword">this</span>.el = node.el
            }
        }
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.name) {
            <span class="hljs-keyword">this</span>.name = node.name || root.name;
        }
        <span class="hljs-keyword">if</span> (root &amp;&amp; root.bind &amp;&amp; !<span class="hljs-keyword">this</span>.bind) {
            <span class="hljs-keyword">this</span>.bind = root.bind;
        }
        <span class="hljs-keyword">if</span> (root &amp;&amp; !<span class="hljs-keyword">this</span>.dataset &amp;&amp; root.data &amp;&amp; root.data.dataset) {
            <span class="hljs-keyword">this</span>.dataset = root.data.dataset;
        }
        <span class="hljs-keyword">if</span> (root &amp;&amp; root.children &amp;&amp; !<span class="hljs-keyword">this</span>.children) {
            <span class="hljs-keyword">this</span>.children = root.children;
        }
        <span class="hljs-keyword">if</span> (root) {
            <span class="hljs-keyword">this</span>.run         = root.run;
            <span class="hljs-keyword">this</span>.applyAttach = root.applyAttach;
            <span class="hljs-keyword">this</span>.getParent   = root.getParent;
            <span class="hljs-keyword">this</span>.setParent   = root.setParent;
        }

    }

    utils.extend(Element.prototype, {
        clone:           <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> extend     = utils.extend({}, <span class="hljs-keyword">this</span>);
            extend._events = [];
            <span class="hljs-keyword">return</span> extend;
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.append</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        _after:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">child</span>) </span>{
            dom._after(<span class="hljs-keyword">this</span>, child)
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.replace</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        replace:         <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">child, data</span>) </span>{
            dom.replace(<span class="hljs-keyword">this</span>, child, data);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.prepend</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        prepend:         <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">child</span>) </span>{
            dom.prepend(<span class="hljs-keyword">this</span>, child);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.insertBefore</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        insertBefore:    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">child, index</span>) </span>{
            dom.insertBefore(<span class="hljs-keyword">this</span>, child, index);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.append</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        append:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">child</span>) </span>{
            dom.append(<span class="hljs-keyword">this</span>, child);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.text</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        text:            <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">text</span>) </span>{
            dom.text(<span class="hljs-keyword">this</span>, text);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.add</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        add:             <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fragment, parent, data, index</span>) </span>{
            dom.add(<span class="hljs-keyword">this</span>, fragment, parent, data, index);
        },
        detach:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            dom.detach(<span class="hljs-keyword">this</span>);
        },
        attach:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            dom.attach(<span class="hljs-keyword">this</span>);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.setAttribute</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        setAttribute:    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prop, value</span>) </span>{
            dom.setAttribute(<span class="hljs-keyword">this</span>, prop, value);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.getAttribute</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        getAttribute:    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prop</span>) </span>{
            <span class="hljs-keyword">return</span> dom.getAttribute(<span class="hljs-keyword">this</span>, prop);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.removeAttribute</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        removeAttribute: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prop</span>) </span>{
            dom.removeAttribute(<span class="hljs-keyword">this</span>, prop);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.setStyle</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        setStyle:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prop, value</span>) </span>{
            dom.setStyle(<span class="hljs-keyword">this</span>, prop, value);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.getStyle</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        getStyle:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prop</span>) </span>{
            <span class="hljs-keyword">return</span> dom.getStyle(<span class="hljs-keyword">this</span>, prop);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.removeStyle</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        removeStyle:     <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prop</span>) </span>{
            dom.removeStyle(<span class="hljs-keyword">this</span>, prop);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.addClass</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        addClass:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">className</span>) </span>{
            dom.addClass(<span class="hljs-keyword">this</span>, className);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.hasClass</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        hasClass:        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">className</span>) </span>{
            <span class="hljs-keyword">return</span> dom.hasClass(<span class="hljs-keyword">this</span>, className);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.removeClass</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        removeClass:     <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">className</span>) </span>{
            dom.removeClass(<span class="hljs-keyword">this</span>, className);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.val</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        val:             <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>{
            <span class="hljs-keyword">return</span> dom.val(<span class="hljs-keyword">this</span>, val);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.on</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        on:              <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event, cb, context</span>) </span>{
            <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">0</span>);
            <span class="hljs-keyword">return</span> dom.on.apply(<span class="hljs-literal">false</span>, [<span class="hljs-keyword">this</span>].concat(args));
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.onDOMAttached</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        onDOMAttached:   <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> dom.onDOMAttached(<span class="hljs-keyword">this</span>);
        },</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Shortcut to - <code>dom.remove</code></p>

            </div>
            
            <div class="content"><div class='highlight'><pre>        remove:          <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            dom.remove(<span class="hljs-keyword">this</span>);
        }
    });

    Element.extend = utils.fnExtend;
    <span class="hljs-keyword">return</span> dom;
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
