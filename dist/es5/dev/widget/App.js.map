{"version":3,"sources":["../../../es6/dev/widget/App.js"],"names":[],"mappings":"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","file":"App.js","sourcesContent":["/*jslint bitwise: true, nomen: true, plusplus: true, white: true */\n\n/*!\n * Mediator Library v0.9.9\n *\n */\n\n(function (global, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD\n        define('widget/Mediator',[],function () {\n            return factory();\n        });\n    } else if (typeof exports !== 'undefined') {\n        // Node/CommonJS\n        exports.Mediator = factory();\n    } else {\n        // Browser global\n        global.Mediator = factory();\n    }\n}(this, function () {\n    'use strict';\n\n    // Subscribers are instances of Mediator Channel registrations. We generate\n    // an object instance so that it can be updated later on without having to\n    // unregister and re-register. Subscribers are constructed with a function\n    // to be called, options object, and context.\n\n    class Subscriber {\n        constructor(fn, options, context = {}, channel = null) {\n            this.fn = fn;\n            this.channel = channel;\n            this.context = context;\n            this.options = options;\n        };\n\n        // Mediator.update on a subscriber instance can update its function,context,\n        // or options object. It takes in an object and looks for fn, context, or\n        // options keys.\n        update(options = {}) {\n            Object.assign(this, options);\n            if (this.channel) {\n                this.setPriority(this.priority);\n            }\n        };\n\n        set options(options) {\n            this.update(options);\n        };\n\n        set context(context) {\n            this.setHook(context);\n            this._context = context;\n        };\n\n        get context() {\n            return this._context;\n        };\n\n        setHook(context) {\n            let channel = this.channel;\n            if (channel) {\n                channel.hook(this, context);\n            }\n        }\n\n        _reduceCalls() {\n            // Check if the subscriber has options and if this include the calls options\n            if (this.calls !== undefined) {\n                // Decrease the number of calls left by one\n                this.calls--;\n                // Once the number of calls left reaches zero or less we need to remove the subscriber\n                if (this.calls < 1) {\n                    this.remove();\n                }\n            }\n        };\n\n        //return event remove method\n        remove() {\n            let channel = this.channel;\n            if (channel) {\n                channel.removeSubscriber(this);\n            }\n        };\n\n        //Dynamic setPriority method\n        setPriority(priority) {\n            let channel = this.channel;\n            if (channel) {\n                channel.setPriority(this, priority);\n            }\n        };\n\n        run(data) {\n            if (!this.channel.stopped\n                && !(typeof this.predicate === \"function\"\n                && !this.predicate.apply(this.context, data))) {\n                // Check if the callback should be called\n                this._reduceCalls();\n                //Execute function.\n                this.fn.apply(this.context, data)\n            }\n        };\n\n    }\n\n    class Channel {\n        constructor(namespace, parent, context, hook) {\n            this.namespace = namespace || \"\";\n            this._subscribers = [];\n            this._channels = new Map();\n            this._parent = parent;\n            this.stopped = false;\n            this.context = context;\n            this.hook = hook;\n        };\n\n\n        // A Mediator channel holds a list of sub-channels and subscribers to be fired\n        // when Mediator.publish is called on the Mediator instance. It also contains\n        // some methods to manipulate its lists of data; only setPriority and\n        // StopPropagation are meant to be used. The other methods should be accessed\n        // through the Mediator instance.\n\n        addSubscriber(fn, options, context = this.context) {\n            return new Subscriber(fn, options, context, this);\n        };\n\n\n        // The channel instance is passed as an argument to the mediator subscriber,\n        // and further subscriber propagation can be called with\n        // channel.StopPropagation().\n        stopPropagation() {\n            this.stopped = true;\n        };\n\n        // Channel.setPriority is useful in updating the order in which Subscribers\n        // are called, and takes an identifier (subscriber id or named function) and\n        // an array index. It will not search recursively through subchannels.\n\n        setPriority(subscriber, priority) {\n            let subscribers = this._subscribers,\n                index = subscribers.indexOf(subscriber);\n\n            if (index !== -1) {\n                subscribers.splice(subscribers.indexOf(subscriber), 1);\n            }\n\n            if (priority !== undefined && priority < this._subscribers.length) {\n                subscribers.splice(priority, 0, subscriber);\n            } else {\n                subscribers.push(subscriber);\n            }\n        };\n\n        hasChannel(channel) {\n            return this._channels.has(channel);\n        };\n\n        getChannel(channel) {\n            return this._channels.get(channel);\n        };\n\n        setChannel(namespace, readOnly) {\n            if (!this.hasChannel(namespace) && !readOnly) {\n                let channel = new Channel((this.namespace ? this.namespace + ':' : '') + namespace, this, this.context, this.hook);\n                this._channels.set(namespace, channel);\n                return channel;\n            } else {\n                return this.getChannel(namespace)\n            }\n        };\n\n        returnChannel(channels, readOnly) {\n            if (channels && channels.length > 0) {\n                let channel = channels.shift(),\n                    returnChannel = this.setChannel(channel, readOnly);\n                if (returnChannel && channels.length > 0) {\n                    return returnChannel.returnChannel(channels, readOnly);\n                } else {\n                    return returnChannel;\n                }\n            }\n        };\n\n\n        removeSubscriber(subscriber) {\n            let subscribers = this._subscribers,\n                index = subscribers.indexOf(subscriber);\n            // If we don't pass in an value, we're clearing all\n            if (!subscriber) {\n                subscribers.splice(0, subscribers.length);\n            } else if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n\n            if (this._subscribers.length === 0 && this._parent) {\n                this._parent.removeChannel(this);\n            }\n        };\n\n        removeChannel(channel) {\n            if (channel === this.getChannel(channel.namespace)) {\n                this._channels.delete(channel.namespace);\n            }\n        };\n\n        clear() {\n            this._channels.forEach(channel=>channel.clear());\n            this.removeSubscriber();\n        };\n\n        // This will publish arbitrary arguments to a subscriber and then to parent\n        // channels.\n\n        publish(data) {\n            //slice method are cloning array, means default array can remove handlers\n            this._subscribers.slice().forEach(subscriber=>subscriber.run(data));\n\n            if (this._parent) {\n                this._parent.publish(data);\n            }\n\n            this.stopped = false;\n        };\n    }\n\n    class Mediator {\n        constructor(context = {}, hook = ()=> {\n        }) {\n            if (!(this instanceof Mediator)) {\n                return new Mediator(context, hook);\n            }\n            this.channel = new Channel('', false, context, hook);\n        }\n\n        // A Mediator instance is the interface through which events are registered\n        // and removed from publish channels.\n\n\n        // Returns a channel instance based on namespace, for example\n        // application:chat:message:received. If readOnly is true we\n        // will refrain from creating non existing channels.\n\n        getChannel(namespace, readOnly) {\n            let namespaceHierarchy = namespace.split(':');\n            if (namespaceHierarchy.length > 0) {\n                return this.channel.returnChannel(namespaceHierarchy, readOnly);\n            }\n        };\n\n        // Pass in a channel namespace, function to be called, options, and context\n        // to call the function in to Subscribe. It will create a channel if one\n        // does not exist. Options can include a predicate to determine if it\n        // should be called (based on the data published to it) and a priority\n        // index.\n\n        subscribe(channelName, fn, options = {}, context) {\n            if (channelName && channelName !== '') {\n                let channel = this.getChannel(channelName, false);\n                return channel.addSubscriber(fn, options, context);\n            } else {\n                throw Error('Namespace should be provided!');\n            }\n        };\n\n        // Pass in a channel namespace, function to be called, options, and context\n        // to call the function in to Subscribe. It will create a channel if one\n        // does not exist. Options can include a predicate to determine if it\n        // should be called (based on the data published to it) and a priority\n        // index.\n\n        once(channelName, fn, options = {}, context) {\n            options.calls = 1;\n            return this.subscribe(channelName, fn, options, context);\n        };\n\n        // Publishes arbitrary data to a given channel namespace. Channels are\n        // called recursively downwards; a post to application:chat will post to\n        // application:chat:receive and application:chat:derp:test:beta:bananas.\n        // Called using Mediator.publish(\"application:chat\", [ args ]);\n\n        publish(channelName, ...args) {\n            if (channelName && channelName !== '') {\n                let channel = this.getChannel(channelName, true);\n                if (channel && channel.namespace === channelName) {\n                    args.push(channel)\n                    channel.publish(args);\n                }\n            }\n        };\n\n        clear() {\n            this.channel.clear();\n        };\n    }\n\n    // Alias some common names for easy interop\n    Mediator.prototype.on = Mediator.prototype.subscribe;\n    Mediator.prototype.trigger = Mediator.prototype.publish;\n\n    // Finally, expose it all.\n\n    Mediator.version = \"0.9.9\";\n\n    return Mediator;\n}));\n\n(function (root, factory) {\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define('router/MatchBinding',factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.UrlManager              = root.UrlManager || {};\n        root.UrlManager.MatchBinding = factory();\n    }\n}(this, function () {\n    function MatchBinding(pattern, location) {\n        if (location === '') {\n            this.pattern = location = pattern.replace(/^\\(\\/\\)/g, '').replace(/^\\/|$/g, '');\n        } else {\n            this.pattern = pattern;\n            location     = (location + pattern);\n        }\n        this.location = location.replace(/\\((.*?)\\)/g, '$1').replace(/^\\/|$/g, '');\n\n        var route = this.pattern.replace(MatchBinding.ESCAPE_PARAM, '\\\\$&')\n            .replace(MatchBinding.OPTIONAL_PARAM, '(?:$1)?')\n            .replace(MatchBinding.NAMED_PARAM, function (match, optional) {\n                         return optional ? match : '([^\\/]+)';\n                     }).replace(MatchBinding.SPLAT_PARAM, '(.*?)');\n\n        this.patternRegExp = new RegExp('^' + route);\n        this.routeHandler  = [];\n        this.leaveHandler  = [];\n        this.queryHandler  = [];\n        this.routes        = [];\n    }\n\n    MatchBinding.prototype.onBind    = function () {\n    };\n    MatchBinding.prototype.setOnBind = function (onBinding) {\n        this.onBind = onBinding\n    };\n    MatchBinding.prototype.rebind    = function () {\n        if (this.onBind !== undefined) {\n            this.onBind();\n        }\n    };\n\n    MatchBinding.prototype.setRoutes = function (routes) {\n        this.routes.push(routes);\n        return this;\n    };\n\n    MatchBinding.prototype.getRoutes = function () {\n        return this.routes;\n    };\n\n    MatchBinding.prototype.to              = function (routeHandler) {\n        this.routeHandler.push(routeHandler);\n        return this;\n    };\n    MatchBinding.prototype.leave           = function (leaveHandler) {\n        this.leaveHandler.push(leaveHandler);\n        return this;\n    };\n    MatchBinding.prototype.query           = function (queryHandler) {\n        this.queryHandler.push(queryHandler);\n        return this;\n    };\n    MatchBinding.prototype.remove          = function () {\n        this.routes.splice(0, this.routes.length);\n        this.routeHandler.splice(0, this.routeHandler.length);\n        this.leaveHandler.splice(0, this.leaveHandler.length);\n        this.queryHandler.splice(0, this.queryHandler.length);\n        return this;\n    };\n    MatchBinding.prototype.test            = function (location) {\n        return this.patternRegExp.test(location);\n    };\n    MatchBinding.prototype.getFragment     = function (location) {\n        var subLocation = this.applyParams(location);\n        return location.replace(subLocation, '');\n    };\n    MatchBinding.prototype.applyParams     = function (location) {\n        var matches  = this.pattern.replace(/\\((.*?)\\)/g, '$1').split('/');\n        var matches2 = location.split('/');\n        return matches2.splice(0, matches.length).join('/');\n    };\n    MatchBinding.prototype.extractParams   = function (fragment) {\n        var params = this.patternRegExp.exec(fragment).slice(1);\n        return params.map(function (param) {\n            return param ? decodeURIComponent(param) : null;\n        });\n    };\n    MatchBinding.prototype.setSubBinder    = function (subBinder) {\n        this.subBinder = subBinder;\n        return subBinder;\n    };\n    MatchBinding.prototype.getSubBinder    = function () {\n        return this.subBinder;\n    };\n    MatchBinding.prototype.getHandler      = function () {\n        return this.routeHandler;\n    };\n    MatchBinding.prototype.getLeaveHandler = function () {\n        return this.leaveHandler;\n    };\n    MatchBinding.prototype.getQueryHandler = function () {\n        return this.queryHandler;\n    };\n\n    MatchBinding.OPTIONAL_PARAM = /\\((.*?)\\)/g;\n    MatchBinding.NAMED_PARAM    = /(\\(\\?)?:\\w+/g;\n    MatchBinding.SPLAT_PARAM    = /\\*\\w+/g;\n    MatchBinding.ESCAPE_PARAM   = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    return MatchBinding;\n}));\n(function (root, factory) {\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define('router/MatchBinder',[\n            './MatchBinding'\n        ], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('./MatchBinding'));\n    } else {\n        // Browser globals (root is window)\n        root.UrlManager = root.UrlManager || {};\n        root.UrlManager.MatchBinder = factory(root.UrlManager.MatchBinding);\n    }\n}(this, function (MatchBinding) {\n    function MatchBinder(location, params, command, root) {\n        this.bindings = [];\n        this.location = root || location || '';\n        this.command = command;\n        this.params = params;\n\n    }\n\n    MatchBinder.prototype.match = function (pattern, mapHandler) {\n        var binding = this.getMatchBinding(pattern, this.location);\n        this.bindings.push(binding);\n            var subBinder = this.getSubBinder(this.location + pattern);\n            binding.setSubBinder(subBinder);\n        if (mapHandler) {\n            mapHandler(subBinder.match.bind(subBinder));\n        }\n        return binding;\n    };\n    MatchBinder.prototype.getSubBinder = function (pattern) {\n        return new MatchBinder(pattern);\n    };\n    MatchBinder.prototype.getMatchBinding = function (pattern, root) {\n        return new MatchBinding(pattern, root);\n    };\n    MatchBinder.prototype.filter = function (location) {\n        return this.bindings.filter(function (binding) {\n            return binding.test(location);\n        });\n    };\n    MatchBinder.prototype.run = function () {\n        this.command(this);\n    };\n    return MatchBinder;\n}));\n\n/*globals define*/\n(function (root, factory) {\n\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define('router/Router',[\n            './MatchBinder'\n        ], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory(require('./MatchBinder'));\n    } else {\n        // Browser globals (root is window)\n        root.UrlManager = root.UrlManager || {};\n        root.UrlManager.Router = factory(root.UrlManager.MatchBinder);\n    }\n}(this, function (MatchBinder) {\n    'use strict';\n\n    // attach the .equals method to Array's prototype to call it on any array\n    Array.prototype.equals = function (array) {\n        // if the other array is a falsy value, return\n        if (!array)\n            return false;\n        // compare lengths - can save a lot of time\n        if (this.length != array.length)\n            return false;\n\n        for (var i = 0, l = this.length; i < l; i++) {\n            // Check if we have nested arrays\n            if (this[i] instanceof Array && array[i] instanceof Array) {\n                // recurse into the nested arrays\n                if (!this[i].equals(array[i]))\n                    return false;\n            }\n            else if (this[i] != array[i]) {\n                // Warning - two different object instances will never be equal: {x:20} != {x:20}\n                return false;\n            }\n        }\n        return true;\n    };\n\n    function parseParams(value) {\n        try {\n            return decodeURIComponent(value.replace(/\\+/g, ' '));\n        }\n        catch (err) {\n            // Failover to whatever was passed if we get junk data\n            return value;\n        }\n    }\n\n    function iterateQueryString(queryString, callback) {\n        var keyValues = queryString.split('&');\n        keyValues.forEach(function (keyValue) {\n            var arr = keyValue.split('=');\n            callback(arr.shift(), arr.join('='));\n        });\n    }\n\n    function getLocation(fragment, isQuery, params, location) {\n        var current = params.root.substring(0, params.root.length - location.length), newQuery;\n        fragment = fragment || '';\n        if (isQuery === true) {\n            newQuery = this.serialize(params.query);\n        }\n        else if (isQuery === false) {\n            newQuery = '';\n        }\n        else {\n            newQuery = this.serialize(isQuery);\n        }\n        return current + fragment + (newQuery.length === 0 ? '' : '?' + newQuery);\n    }\n\n    function Router() {\n        this.root = this.getBinder();\n        this.bindings = [];\n    }\n\n    Router.prototype.getBinder = function () {\n        return new MatchBinder();\n    };\n    Router.prototype.match = function (mapHandler) {\n        mapHandler(this.root.match.bind(this.root));\n    };\n    Router.prototype.trigger = function (location) {\n        if (this.started) {\n            var parts = location.split('?', 2);\n            var query = {};\n            if (parts[1]) {\n                iterateQueryString(parts[1], function (name, value) {\n                    value = parseParams(value);\n                    if (!query[name]) {\n                        query[name] = value;\n                    }\n                    else if (typeof query[name] === 'string') {\n                        query[name] = [query[name], value];\n                    }\n                    else {\n                        query[name].push(value);\n                    }\n                });\n            }\n            var loc = parts[0].replace(/^\\/|$/g, ''),\n                params = {\n                    root: loc,\n                    query: query\n                },\n                notValid = [],\n                matched = false;\n\n            this.bindings.forEach(function (binder) {\n                var fragment,\n                    pattern = binder.pattern.replace(/\\((.*?)\\)/g, '$1').replace(/^\\//, '').split('/'),\n                    binderLocation = binder.location.split('/'),\n                    prevLoc = binder.prevLoc.replace(/^\\//, '').split('/'),\n                    checkSegment = function (link) {\n                        var currSegment = link.splice(binderLocation.length - pattern.length, pattern.length),\n                            prevSegment = prevLoc.splice(0, pattern.length);\n                        return (!currSegment.equals(prevSegment));\n                    };\n                fragment = checkSegment(matched || loc.split('/'));\n                if (fragment) {\n                    matched = loc.split('/').splice(0, binderLocation.length - pattern.length);\n                    var handler = binder.getLeaveHandler(),\n                        args = [];\n                    binder.setOnBind();\n\n                    this.applyHandler(handler, args, params, location);\n                    notValid.push(binder);\n                }\n            }.bind(this));\n\n            notValid.forEach(function (binder) {\n                this.bindings.splice(this.bindings.indexOf(binder), 1);\n            }.bind(this));\n\n            this.find(this.root, loc, params);\n        }\n    };\n    Router.prototype.find = function (binder, location, params) {\n        var bindings = binder.filter(location);\n        bindings.forEach(this.onBinding.bind(this, location, params));\n    };\n\n    Router.prototype.execute = function (binder) {\n        var binderlocation = binder.location.split('/'),\n            rootLocation = binder.params.root.split('/'),\n            location = '/' + rootLocation.splice(binderlocation.length, rootLocation.length -\n                                                                        binderlocation.length).join('/');\n        this.find(binder, location, binder.params);\n    };\n\n    Router.prototype.onBinding = function (location, params, binding) {\n        binding.setOnBind(this.onBinding.bind(this, location, params, binding))\n        this.runHandler(location, params, binding);\n        var fragment = binding.getFragment(location);\n        var subBinder = binding.getSubBinder();\n        if (subBinder && subBinder.bindings && subBinder.bindings.length > 0) {\n            this.find(subBinder, fragment, params);\n        }\n        var subRoutes = binding.getRoutes();\n        if (subRoutes && subRoutes.length > 0) {\n            while (subRoutes.length > 0) {\n                var Route = subRoutes[0],\n                    binder = new MatchBinder(binding.getFragment(location), params, this.execute.bind(this), binding.location);\n                Route(binder);\n                subBinder.bindings = subBinder.bindings.concat(binder.bindings);\n                subRoutes.shift();\n            }\n        }\n\n    };\n\n    Router.prototype.serialize = function (obj) {\n        var str = [];\n        for (var p in obj)\n            if (obj.hasOwnProperty(p)) {\n                str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n            }\n        return str.join(\"&\");\n    };\n    Router.prototype.runHandler = function (location, params, binding) {\n\n        if (this.bindings.indexOf(binding) === -1) {\n            var handler = binding.getHandler();\n            var args = binding.extractParams(location);\n\n            binding.prevLoc = location;\n\n            this.applyHandler(handler, args, params, location);\n            this.bindings.push(binding);\n        }\n\n        var handler = binding.getQueryHandler();\n        if (handler) {\n            var args = [];\n            this.applyHandler(handler, args, params, location);\n        }\n\n    };\n    Router.prototype.applyHandler = function (handlers, args, params, location) {\n        if (handlers && handlers.length > 0) {\n            handlers.forEach(function (handler) {\n                handler.apply(this, args.concat({\n                    getQuery: function () {\n                        return params.query;\n                    },\n                    getLocation: function (fragment, isQuery) {\n                        return getLocation.call(this, fragment, isQuery, params, location)\n                    }.bind(this)\n                }));\n            }.bind(this));\n        }\n    };\n    Router.prototype.start = function () {\n        this.started = true;\n    };\n    Router.prototype.stop = function () {\n        this.started = false;\n    };\n\n    return Router;\n}));\n\n/**\n * Created by guntars on 11/10/2014.\n */\n/*globals setTimeout, define*/\n// ## widget/App Class\n// Usage Example\n//\n//      define([\n//          'widget/App',\n//          'widget/parser!container/Container',\n//      ], function (App, Container) {\n//          'use strict';\n//          return App.extend({\n//              AppContainer: Container\n//          });\n//      });\ndefine('widget/App',[\n    './Mediator',\n    'router/Router'\n], function (Mediator, Router) {\n    'use strict';\n    function triggerRoute(router) {\n        router.start();\n        function onHashChange() {\n            let match = window.location.href.match(/#(.*)$/);\n            router.trigger(match ? match[1] : '');\n        };\n        window.addEventListener('hashchange', onHashChange, false);\n        onHashChange();\n    }\n\n    // ### App Class\n    // Creater App, EventBus and context for App.\n    // Usage Example\n    //\n    //      var app= new App();\n    //      app.start(document.body);\n    class App {\n        static extend(options = {}) {\n            class Surrogate extends App {\n            }\n            Object.assign(Surrogate.prototype, options);\n            return Surrogate;\n        };\n\n        constructor(options) {\n            options = options || {};\n            let router = new Router();\n\n            this.beforeInit.apply(this, arguments);\n            this.context = Object.assign(this.setContext.apply(this, arguments), {\n                // Creating `EventBus` More info look in `Mediator` Section\n                eventBus: new Mediator(this.context, (channel, scope)=> {\n                    scope._globalEvents = scope._globalEvents || [];\n                    if (scope._globalEvents.indexOf(channel) === -1) {\n                        scope._globalEvents.push(channel);\n                    }\n                })\n            });\n\n            if (this.AppContainer !== undefined) {\n                this.appContainer = new this.AppContainer({\n                    appContext: this.context\n                });\n\n                let mapHandler = (this.appContainer._match !== undefined) ? this.appContainer._match : ()=> {\n                };\n\n                if (options.rootRoute !== undefined) {\n                    router.match((match)=> {\n                        match(options.rootRoute, mapHandler);\n                    });\n                } else {\n                    router.match(mapHandler);\n                }\n\n                this.el = this.appContainer.el;\n\n                triggerRoute(router);\n\n            }\n            this.init.apply(this, arguments);\n        }\n\n\n        // Running 'AppContainer' is initialised.\n        //\n        //      @method beforeInit\n        beforeInit() {\n        };\n\n        // Running after 'AppContainer' is initialised.\n        //\n        //      @method init\n        init() {\n        };\n\n        // SettingContext for the `App`\n        //\n        //      @method setContext\n        setContext() {\n            return {};\n        }\n\n        // Starting `App` in provided `Container`\n        //\n        //      @method start\n        //      @param {HTMLElement} container\n        start(container) {\n            if (container instanceof HTMLElement === true) {\n                container.appendChild(this.el);\n                setTimeout(() => {\n                    this.el.classList.add('show');\n                }, 100);\n            } else {\n                throw Error('Contaner should be a HTML element');\n            }\n        }\n    }\n    ;\n    return App;\n});\n"]}